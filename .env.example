# ============================================
# 小红书爬虫项目环境配置模板
# 使用说明: 复制此文件为 .env 并填写实际配置值
# ============================================

# ============================================
# 应用基础配置
# ============================================
# 应用名称
APP_NAME=xiaohongshu_spider

# 应用环境: development, production, testing
APP_ENV=development

# 应用调试模式: true, false
DEBUG=true

# API服务端口
API_PORT=8000

# API服务主机地址
API_HOST=0.0.0.0

# ============================================
# MySQL数据库配置
# ============================================
# 数据库主机地址
DB_HOST=localhost

# 数据库端口
DB_PORT=3306

# 数据库名称
DB_NAME=xiaohongshu_db

# 数据库用户名
DB_USER=root

# 数据库密码
DB_PASSWORD=123456

# 数据库字符集
DB_CHARSET=utf8mb4

# 数据库连接池最小连接数
DB_POOL_MIN_SIZE=5

# 数据库连接池最大连接数
DB_POOL_MAX_SIZE=20

# 数据库连接超时时间（秒）
DB_POOL_TIMEOUT=30

# ============================================
# MinIO对象存储配置
# ============================================
# MinIO服务端点地址
MINIO_ENDPOINT=localhost:9000

# MinIO访问密钥ID
MINIO_ACCESS_KEY=your_minio_access_key

# MinIO访问密钥
MINIO_SECRET_KEY=your_minio_secret_key

# MinIO是否使用SSL
MINIO_SECURE=false

# MinIO存储桶名称
MINIO_BUCKET_NAME=xiaohongshu-storage

# MinIO存储区域
MINIO_REGION=us-east-1

# ============================================
# Redis配置（用于缓存和任务队列）
# ============================================
# Redis主机地址
REDIS_HOST=localhost

# Redis端口
REDIS_PORT=6379

# Redis数据库编号（0-15）
REDIS_DB=0

# Redis密码（如无密码则留空）
REDIS_PASSWORD=

# Redis连接超时时间（秒）
REDIS_TIMEOUT=5

# Redis连接池最大连接数
REDIS_MAX_CONNECTIONS=50

# ============================================
# 爬虫反爬配置
# ============================================
# 请求延迟时间范围（秒）- 格式: min,max
CRAWLER_DELAY_RANGE=1.0,3.0

# 单次爬取最大数量
CRAWLER_MAX_COUNT=100

# 请求超时时间（秒）
CRAWLER_TIMEOUT=30

# 请求重试次数
CRAWLER_RETRY_TIMES=3

# 请求重试延迟（秒）
CRAWLER_RETRY_DELAY=5

# User-Agent轮换开关: true, false
CRAWLER_ROTATE_USER_AGENT=true

# 代理开关: true, false
CRAWLER_USE_PROXY=false

# 代理地址（如使用代理，格式: http://ip:port）
CRAWLER_PROXY_URL=

# 并发请求数
CRAWLER_CONCURRENT_REQUESTS=5

# 爬虫请求头（JSON格式，可选）
# CRAWLER_HEADERS={"Referer": "https://www.xiaohongshu.com"}

# ============================================
# 日志配置
# ============================================
# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE_PATH=logs/xiaohongshu_spider.log

# 日志文件最大大小（MB）
LOG_FILE_MAX_SIZE=100

# 日志文件保留数量
LOG_FILE_BACKUP_COUNT=10

# 是否输出到控制台: true, false
LOG_CONSOLE_OUTPUT=true

# ============================================
# 安全配置
# ============================================
# API密钥（用于API认证）
API_SECRET_KEY=your_api_secret_key_please_change_this

# JWT密钥（如使用JWT认证）
JWT_SECRET_KEY=your_jwt_secret_key_please_change_this

# JWT算法
JWT_ALGORITHM=HS256

# JWT过期时间（小时）
JWT_EXPIRE_HOURS=24

# ============================================
# 异步任务配置（Celery）
# ============================================
# Celery Broker URL（Redis）
CELERY_BROKER_URL=redis://localhost:6379/1

# Celery Result Backend URL（Redis）
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Celery任务序列化格式
CELERY_TASK_SERIALIZER=json

# Celery结果序列化格式
CELERY_RESULT_SERIALIZER=json

# Celery时区
CELERY_TIMEZONE=Asia/Shanghai

# ============================================
# 其他配置
# ============================================
# 时区设置
TIMEZONE=Asia/Shanghai

# 数据存储路径（本地存储时使用）
DATA_STORAGE_PATH=./data

# 是否启用数据去重: true, false
ENABLE_DEDUPLICATION=true
